(this["webpackJsonpconstru.fullstack.exercise"]=this["webpackJsonpconstru.fullstack.exercise"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(20),s=n.n(r),o=(n(27),n(22)),i=n(3),l=(n(28),n(4)),u=n.n(l),j=n(8),b=n(0),h=function(e){var t=e.alt,n=e.objectIds,a=e.imageSourceOriginal,r=(e.setImageSourceOriginal,Object(c.useState)([])),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=n[Math.floor(Math.random()*n.length)],e.next=4,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(t));case 4:return c=e.sent,e.next=7,c.json();case 7:if(a=e.sent,l(a),a.primaryImageSmall.length){e.next=18;break}return t=n[Math.floor(Math.random()*n.length)],e.next=13,fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects/".concat(t));case 13:return c=e.sent,e.next=16,c.json();case 16:a=e.sent,l(a);case 18:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),console.log(">>>--",e.t0);case 24:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(){return e.apply(this,arguments)}})()()}),[n,a]),Object(b.jsxs)("div",{className:"imageDataWrapper",children:[Object(b.jsxs)("div",{className:"imageData",children:["Title: ",o.title,Object(b.jsx)("br",{}),"Author: ",o.artistDisplayName,Object(b.jsx)("br",{}),"ObjectID: ",o.objectID,Object(b.jsx)("br",{})]}),Object(b.jsx)("img",{onClick:function(){window.open(o.objectURL)},src:o.primaryImageSmall,alt:t,id:"inputImage"})]})},m=n(10),d=n.n(m),p=function(e){var t=e.alt,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=Math.floor(1e3*Math.random()),s("https://picsum.photos/1000/1000?random=".concat(t)),console.log("rendered")}catch(n){console.log(">>>--",n)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(b.jsxs)("div",{className:"imageDataWrapper",children:[Object(b.jsxs)("div",{className:"imageData",children:[Object(b.jsx)(d.a,{src:r,crossOrigin:"anonymous",format:"hex",children:function(e){var t=e.data;return e.loading?Object(b.jsx)("p",{children:"Dominant Primary Color: Loading..."}):Object(b.jsxs)("p",{children:["Dominant Primary Color: ",Object(b.jsx)("strong",{style:{color:t},children:t})]})}}),Object(b.jsx)(m.Palette,{src:r,crossOrigin:"anonymous",format:"hex",colorCount:3,children:function(e){var t=e.data;return e.loading?Object(b.jsx)("p",{children:"Loading..."}):Object(b.jsxs)("div",{style:{display:"flex",marginRight:"1rem"},children:["Palette:",t.map((function(e,t){return Object(b.jsx)("p",{style:{color:e},children:Object(b.jsx)("strong",{children:e})},t)}))]})}})]}),Object(b.jsx)("img",{style:{cursor:"initial"},src:r,alt:t,id:"inputImage"})]})},f=n(21),O=n.n(f),g=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!0),s=Object(i.a)(r,2),l=s[0],u=s[1];Object(c.useEffect)((function(){fetch("https://collectionapi.metmuseum.org/public/collection/v1/objects?departmentIds=11").then((function(e){return 200===e.status?e:console.log("HTTP error! status: ".concat(e.status))})).then((function(e){return e.json()})).then((function(e){a(e.objectIDs)})).catch((function(e){return console.log("There has been a problem with your fetch request: ".concat(e.message))}))}),[]);var j=Object(c.useState)(40),m=Object(i.a)(j,2),d=m[0],f=m[1];return n.length?Object(b.jsxs)("div",{className:"App",children:[Object(b.jsxs)("div",{className:"navMainWrapper",children:[Object(b.jsx)("input",{type:"number",placeholder:d,onChange:function(e){setTimeout((function(){var t=e.target.value;return f(""===t?1:parseInt(t))}),1e3)},name:"number",style:l?{display:"initial"}:{display:"none"}}),Object(b.jsxs)("label",{htmlFor:"number",style:l?{display:"initial"}:{display:"none"},children:[" / ",n.length," images to load from European Paintings department of the MET"]}),Object(b.jsx)("button",{onClick:function(){u(!l)},style:{position:"absolute",right:"5%"},children:l?"Switch to CORS allowed":"Switch to CORS denied"})]}),Object(b.jsx)("div",{className:"imageMainWrapper",children:Object(o.a)(Array(d).keys()).map((function(e){return Object(b.jsx)(O.a,{height:200,children:l?Object(b.jsx)(h,{objectIds:n,alt:"Random image ".concat(e)},e):Object(b.jsx)(p,{alt:"Random image ".concat(e)},e)},e)}))})]}):Object(b.jsx)("div",{className:"App",children:Object(b.jsx)("p",{children:"Simple Loader"})})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,57)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),r(e),s(e)}))};s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root")),x()}},[[56,1,2]]]);
//# sourceMappingURL=main.22656dae.chunk.js.map